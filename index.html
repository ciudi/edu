<!doctype html>
<html lang="ro">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quiz Limba Română</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; max-width: 980px; margin: 24px auto; padding: 0 16px; }
    .topbar { display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap; }
    .badge { display:inline-block; padding:6px 10px; border:1px solid #ddd; border-radius:999px; font-size:14px; }
    .card { border:1px solid #e5e5e5; border-radius:14px; padding:16px; margin:14px 0; box-shadow: 0 2px 10px rgba(0,0,0,0.04); }
    h1 { margin: 0 0 10px; font-size: 22px; }
    h2 { margin: 0 0 10px; font-size: 18px; line-height: 1.35; }
    .choices { margin: 10px 0; }
    .choice { display:flex; gap:10px; padding:10px; border:1px solid #eee; border-radius:12px; margin:8px 0; cursor:pointer; }
    .choice:hover { background: #fafafa; }
    .choice input { margin-top: 3px; }
    button { padding:10px 14px; border-radius:12px; border:1px solid #ddd; background:white; cursor:pointer; font-weight:600; }
    button:hover { background:#f6f6f6; }
    button.primary { background:#111; color:#fff; border-color:#111; }
    button.primary:hover { background:#222; }
    .row { display:flex; gap:10px; flex-wrap:wrap; }
    .muted { opacity:.75; }
    .result { padding: 12px; border-radius: 12px; border: 1px solid #e9e9e9; background: #fbfbfb; margin-top: 12px; }
    .ok { border-color: #cfead6; background: #f3fbf5; }
    .bad { border-color: #ffd0d0; background: #fff5f5; }
    .timer { font-variant-numeric: tabular-nums; }
    .progress { height: 10px; background: #eee; border-radius: 999px; overflow:hidden; margin-top: 10px; }
    .progress > div { height:100%; width:0%; background:#111; transition: width .2s linear; }
    .footer { margin-top: 18px; display:flex; justify-content:space-between; gap: 12px; flex-wrap:wrap; }
    .small { font-size: 13px; }
    code { background:#f6f6f6; padding:2px 6px; border-radius:8px; }
  </style>
</head>
<body>

<h1>Quiz Limba Română</h1>

<div class="topbar">
  <div class="badge" id="qCounter">Întrebarea 1 / 1</div>
  <div class="badge timer" id="timerBadge">⏳ Timp rămas: <span id="timeLeft">02:00</span></div>
</div>
<div class="progress" id="progressWrap"><div id="timeBar"></div></div>

<div id="app" class="card"></div>

<script>
  // === Întrebări (JSON-ul tău) ===
  const questions = [
    {
      "question": "Litera „x” se pronunță [gz] în toate cuvintele din seria: [Sursa 47]",
      "choices": ["excursie, examen, mixer","examina, exil, exactitate","dexteritate, taximetrist, flexiune","malaxor, xilofon, axiomă"],
      "answerIndex": 1,
      "explanation": "Conform regulilor fonetice și fișelor de exerciții, când „x” este flancat de vocale în cuvinte precum „examen”, „exil” sau „exactitate”, se pronunță [gz]."
    },
    {
      "question": "Câți diftongi sunt în versul: „Când din culme-n culme noaptea buciumele răsunau...” (V. Alecsandri)? [Sursa 47]",
      "choices": ["Cinci diftongi","Patru diftongi","Trei diftongi","Doi diftongi"],
      "answerIndex": 2,
      "explanation": "Diftongii se găsesc în cuvintele „noaptea” (oa, ea) și „răsunau” (au). În total sunt trei diftongi."
    },
    {
      "question": "Identificați seria în care se stabilește o relație de omonimie: [Sursa 45]",
      "choices": ["Și-a făcut o casă mare. / Văd că nu și-a făcut tema.","Copilul sare gardul. / Mama va pune sare în mâncare.","Copiii vorbesc cam tare. / Ionel va fi mereu un om tare.","Copilul a trecut de examen. / Trandafirii bunicii s-au trecut."],
      "answerIndex": 1,
      "explanation": "Cuvintele „sare” (verb) și „sare” (substantiv) au aceeași formă, dar sensuri și apartenențe morfologice complet diferite, fiind omonime."
    },
    {
      "question": "Câte predicate sunt în versurile: „Din oglindă mă privea un trup firav / Cu claviatura coastelor distinctă, / Inima-apăsa pe clape grav / Și-ncerca să-apară în oglindă.”? [Sursa 53]",
      "choices": ["Patru predicate","Trei predicate","Două predicate","Cinci predicate"],
      "answerIndex": 0,
      "explanation": "Predicatele sunt exprimate prin cele patru verbe predicative din fragment: „privea”, „-apăsa”, „-ncerca” și „să-apară”."
    },
    {
      "question": "Adjectivul are funcția sintactică de nume predicativ în enunțul: [Sursa 19]",
      "choices": ["Aura a rămas o fată frumoasă.","Copiii par foarte fericiți astăzi.","Ionel a ajuns un medic extraordinar.","Fata va fi cea mai bună patinatoare."],
      "answerIndex": 1,
      "explanation": "Verbul copulativ „par” se leagă de adjectivul „fericiți”, care devine astfel nume predicativ și formează predicatul nominal."
    },
    {
      "question": "Există un subiect neexprimat, INCLUS, în enunțul: [Sursa 85]",
      "choices": ["Să pleci mai repede!","Au sosit ieri seara.","Plouă torențial.","Veniți la noi!"],
      "answerIndex": 0,
      "explanation": "Subiectul este inclus în desinența verbului la persoana a II-a singular: „(tu) să pleci”."
    },
    {
      "question": "Funcția sintactică a cuvântului evidențiat din enunțul „Mașina de acolo este frumoasă” este: [Sursa 21]",
      "choices": ["Circumstanțial de loc","Complement prepozițional","Atribut adverbial","Nume predicativ"],
      "answerIndex": 2,
      "explanation": "Adverbul de loc însoțit de prepoziție („de acolo”) determină un substantiv („mașina”), îndeplinind funcția de atribut adverbial."
    },
    {
      "question": "Seria care conține DOAR substantive defective de singular este: [Sursa 20]",
      "choices": ["aur, argint, fotbal","pantaloni, ițari, vacanțe","icre, modalități, bachet","ochelari, spaghete, tăiței"],
      "answerIndex": 3,
      "explanation": "Aceste cuvinte se utilizează exclusiv cu formă de plural (ex: nu spunem „un ochelar” sau „o spaghetă” în mod curent literar)."
    },
    {
      "question": "Seria care conține DOAR prepoziții specifice cazului Dativ este: [Sursa 20/43]",
      "choices": ["înaintea, înapoia, în fața","în jurul, dinspre, printre","contra, dedesubtul, în spatele","mulțumită, grație, datorită"],
      "answerIndex": 3,
      "explanation": "Prepozițiile „grație” (provenită din substantiv) și „mulțumită”, „datorită” (provenite din participii) se construiesc obligatoriu cu cazul Dativ."
    },
    {
      "question": "Alegeți enunțul scris corect conform normelor ortografice: [Sursa 18]",
      "choices": ["Membri echipii sunt respectuoși.","Membrii echipei sunt respectuoși.","Membri echipei sunt respectuoși.","Membrii echipei sunt respectosi."],
      "answerIndex": 1,
      "explanation": "Substantivul masculin „membru” la plural articulat se scrie cu doi „i” (membrii), iar forma corectă de genitiv pentru „echipă” este „echipei”."
    },
    {
      "question": "În care dintre următoarele variante verbul „a fi” este VERB AUXILIAR? [Sursa 18]",
      "choices": ["Blana pisicii este moale.","Pisica este pufoasă.","Pisica a fost la noi.","Pisica este mângâiată de Matei."],
      "answerIndex": 3,
      "explanation": "În construcția pasivă „este mângâiată”, verbul „a fi” își pierde sensul propriu și ajută doar la conjugarea verbului de bază, fiind auxiliar."
    },
    {
      "question": "Rolul incipitului într-un text narativ este de a: [Sursa 23]",
      "choices": ["Prezenta deznodământul.","Formula mesajul moral.","Caracteriza personajul principal.","Introduce cititorul în universul operei."],
      "answerIndex": 3,
      "explanation": "Incipitul are funcția de a fixa reperele spațio-temporale și de a face trecerea din lumea reală în lumea ficțională a textului."
    },
    {
      "question": "Care dintre următoarele romane este asociat cu valoarea culturală „prietenia și aventura” în materialele studiate? [Sursa 34]",
      "choices": ["„Mesagerul” de Lois Lowry","„Fahrenheit 451” de Ray Bradbury","„Bătrânul și marea” de Ernest Hemingway","„Inocenții” de Ioana Pârvulescu"],
      "answerIndex": 3,
      "explanation": "Tabelul cu valori literare asociază clar operele „Platanos”, „Micul Prinț” și „Inocenții” cu prietenia și aventura."
    },
    {
      "question": "Forma corectă de Genitiv-Dativ a substantivului „piață” este: [Sursa 31]",
      "choices": ["Pieții","Piaței","Pieței","Pieților"],
      "answerIndex": 2,
      "explanation": "Conform tabelului ortografic, forma articulată corectă la genitiv-dativ singular este „pieței”."
    },
    {
      "question": "În propoziția „Aproapele meu îți vrea binele”, cuvintele subliniate („Aproapele”, „binele”) s-au format, în ordine, prin: [Sursa 24]",
      "choices": ["derivare, derivare","conversiune, derivare","conversiune, conversiune","compunere, conversiune"],
      "answerIndex": 2,
      "explanation": "Ambele cuvinte provin din adverbe („aproape” și „bine”) care, prin atașarea articolului hotărât („-le”), s-au transformat în substantive (conversiune)."
    },
    {
      "question": "Propoziția subordonată din fraza „Am dat de veste că vom aduce toate cadourile” este: [Sursa 87]",
      "choices": ["Atributivă","Completivă directă","Subiectivă","Circumstanțială de mod"],
      "answerIndex": 1,
      "explanation": "Locuțiunea verbală „a da de veste” se traduce prin „a vesti”. Întrebarea „ce am vestit?” primește răspunsul de la propoziția subordonată completivă directă."
    },
    {
      "question": "Seria care conține DOAR conjuncții subordonatoare este: [Sursa 26]",
      "choices": ["ca să, ca...să, fiindcă, ori","deci, așadar, sau, chiar dacă","și, prin urmare, în timp ce, de vreme ce","să, că, dacă, deși"],
      "answerIndex": 3,
      "explanation": "„Să”, „că”, „dacă”, „deși” introduc exclusiv propoziții subordonate, neavând rol de coordonare."
    },
    {
      "question": "Tiparul narativ se caracterizează prin: [Sursa 24]",
      "choices": ["Exprimarea directă a sentimentelor","Prezența naratorului și a personajelor","Structura exclusiv în versuri","Utilizarea exclusivă a dialogului"],
      "answerIndex": 1,
      "explanation": "Textul narativ (epic) se bazează pe relatarea unor întâmplări de către o voce auctorială (naratorul), cu participarea personajelor."
    },
    {
      "question": "Seria care conține DOAR adverbe este: [Sursa 26]",
      "choices": ["aici, acolo, spre, dinspre","altcineva, către, acasă, cândva","orișicând, mereu, prin, la","bineînțeles, posibil, oricând, altundeva"],
      "answerIndex": 3,
      "explanation": "Seria indicată conține numai adverbe, în timp ce restul seriilor amestecă adverbe cu prepoziții (spre, dinspre, la, prin)."
    },
    {
      "question": "În propoziția „Tudor are doar optsprezece ani”, folosirea cuvântului evidențiat este corectă deoarece: [Sursa 100]",
      "choices": ["Nu are funcție sintactică și stă lângă un numeral.","„Doar/numai” se utilizează în construcții afirmative, pe când „decât” cere negație.","Înlocuiește conjuncția „ci”.","Este un adjectiv invariabil."],
      "answerIndex": 1,
      "explanation": "Norma literară a limbii române impune folosirea semiadverbelor „doar” sau „numai” pentru limitarea cantitativă în propoziții afirmative."
    },
    {
      "question": "Există un atribut verbal în varianta: [Sursa 26]",
      "choices": ["Mi-a spus mama că acel volum de poezii este de citit.","Nu am găsit caietul de colorat.","Avem de citit acea carte până joi.","Dorința Anei era de a termina cartea."],
      "answerIndex": 1,
      "explanation": "Verbul la supin „de colorat” determină substantivul „caietul” (care caiet?), având funcția de atribut verbal."
    },
    {
      "question": "Substantivul „pădure” se află în cazul genitiv în enunțul: [Sursa 57]",
      "choices": ["Pădurii îi lipsesc copacii.","Pădurea se întinde pe o suprafață mare.","Îi mulțumesc pădurii pentru aerul curat.","Animalele pădurii sunt sălbatice."],
      "answerIndex": 3,
      "explanation": "În expresia „Animalele pădurii”, cuvântul răspunde la întrebarea „ale cui (animale)?”, marcând posesia specifică genitivului."
    },
    {
      "question": "Seria care conține doar verbe scrise corect la modul imperativ, forma negativă, este: [Sursa 49]",
      "choices": ["Nu creea!, nu agreea!, nu citii!","Nu aduce!, nu spune!, nu ține!","Nu zidi!, nu ieșii!, nu ne plictisi!","Nu duce!, nu zice!, nu face!, nu tăcea!"],
      "answerIndex": 3,
      "explanation": "La formarea imperativului negativ, persoana a II-a singular, se folosește negația urmată de verbul la infinitiv (a duce -> nu duce!)."
    },
    {
      "question": "În versul „Râul luciu se-nconvoaie sub copaci ca un balaur” (V. Alecsandri), măsura este de: [Sursa 61]",
      "choices": ["15 silabe","17 silabe","18 silabe","16 silabe"],
      "answerIndex": 3,
      "explanation": "Analizând fonetic versul și unind cuvintele legate prin cratimă (se-n-con-voa-ie), se numără 16 silabe."
    },
    {
      "question": "Subiectul se exprimă printr-un pronume personal de persoana a II-a, numărul plural, în varianta: [Sursa 53]",
      "choices": ["Voi, stați liniștiți!","Pe voi vă cheamă bunica la masă?","La voi nu mai venim niciodată.","Nu știu când ați scris voi pe grupul clasei."],
      "answerIndex": 3,
      "explanation": "În ultima variantă, pronumele „voi” răspunde la întrebarea „cine (ați scris)?”, având astfel funcția de subiect."
    }
  ];

  const app = document.getElementById("app");
  const qCounter = document.getElementById("qCounter");
  const timeBar = document.getElementById("timeBar");
  const timerBadge = document.getElementById("timerBadge");
  const progressWrap = document.getElementById("progressWrap");

  // === CERINȚĂ QUIZZ ROMÂNĂ: 2 minute / întrebare ===
  // (aceleași cerințe ca paginile anterioare de română)
  const TIME_PER_Q = 2 * 60; // sec
  let idx = 0;
  let score = 0;
  let timer = null;
  let remaining = TIME_PER_Q;
  let locked = false;

  function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

  function grade1to10(correct, total) {
    if (total <= 0) return 1;
    const ratio = correct / total;
    const g = 1 + ratio * 9; // 0% -> 1, 100% -> 10
    return Math.round(g * 100) / 100;
  }

  function stopTimer(){
    if (timer) { clearInterval(timer); timer = null; }
  }

  function escapeHtml(s){
    return String(s)
      .replace(/&/g, "&amp;")
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;")
      .replace(/"/g, "&quot;")
      .replace(/'/g, "&#039;");
  }

  function formatText(raw) {
    return escapeHtml(raw);
  }

  function fmtTime(seconds){
    const m = Math.floor(seconds / 60);
    const s = seconds % 60;
    return String(m).padStart(2,"0") + ":" + String(s).padStart(2,"0");
  }

  function startTimer(){
    stopTimer();
    remaining = TIME_PER_Q;

    progressWrap.style.display = "block";
    timerBadge.innerHTML = `⏳ Timp rămas: <span id="timeLeft">${fmtTime(remaining)}</span>`;
    timeBar.style.width = "100%";

    timer = setInterval(() => {
      remaining -= 1;
      const tl = document.getElementById("timeLeft");
      if (tl) tl.textContent = fmtTime(Math.max(remaining, 0));

      const pct = (remaining / TIME_PER_Q) * 100;
      timeBar.style.width = clamp(pct, 0, 100) + "%";

      if (remaining <= 0) {
        stopTimer();
        revealAnswer(null, true);
      }
    }, 1000);
  }

  function renderQuestion(){
    locked = false;
    const q = questions[idx];
    qCounter.textContent = `Întrebarea ${idx + 1} / ${questions.length}`;

    app.innerHTML = `
      <h2>${formatText(q.question)}</h2>
      <div class="choices">
        ${q.choices.map((c, i) => `
          <label class="choice">
            <input type="radio" name="choice" value="${i}">
            <span>${formatText(c)}</span>
          </label>
        `).join("")}
      </div>
      <div class="row">
        <button class="primary" id="submitBtn">Trimite răspuns</button>
        <button id="skipBtn">Nu știu / sari</button>
      </div>
      <div id="feedback"></div>
      <div class="footer small muted">
        <div>Scor curent: <b id="scoreNow">${score}</b> / ${questions.length}</div>
        <div>Timp / întrebare: <code>${fmtTime(TIME_PER_Q)}</code></div>
      </div>
    `;

    document.getElementById("submitBtn").onclick = () => {
      if (locked) return;
      const picked = app.querySelector('input[name="choice"]:checked');
      if (!picked) {
        document.getElementById("feedback").innerHTML = `<div class="result">Alege un răspuns înainte să trimiți.</div>`;
        return;
      }
      revealAnswer(Number(picked.value), false);
    };

    document.getElementById("skipBtn").onclick = () => {
      if (locked) return;
      revealAnswer(null, false);
    };

    startTimer();
  }

  function revealAnswer(selectedIndex, timedOut){
    locked = true;
    stopTimer();

    const q = questions[idx];
    const correct = q.answerIndex;
    const isCorrect = (selectedIndex === correct);

    if (isCorrect) score += 1;

    const pickedText = (selectedIndex === null)
      ? (timedOut ? "⏰ Timpul a expirat." : "Ai sărit întrebarea.")
      : `Ai ales: <b>${formatText(q.choices[selectedIndex])}</b>`;

    const status = isCorrect ? "✅ Corect" : "❌ Greșit";
    const boxClass = isCorrect ? "result ok" : "result bad";

    document.getElementById("feedback").innerHTML = `
      <div class="${boxClass}">
        <div style="font-size:16px; margin-bottom:6px;"><b>${status}</b></div>
        <div>${pickedText}</div>
        <div style="margin-top:8px;">
          Răspuns corect: <b>${formatText(q.choices[correct])}</b>
        </div>
        <div style="margin-top:8px; opacity:.9">
          Explicație: ${formatText(q.explanation || "(fără explicație)")}
        </div>
      </div>
      <div class="row" style="margin-top:10px;">
        <button class="primary" id="nextBtn">${idx < questions.length - 1 ? "Următoarea întrebare" : "Vezi rezultatul final"}</button>
      </div>
    `;

    const scoreNow = document.getElementById("scoreNow");
    if (scoreNow) scoreNow.textContent = score;

    document.getElementById("nextBtn").onclick = () => {
      idx += 1;
      if (idx < questions.length) renderQuestion();
      else renderFinal();
    };
  }

  function renderFinal(){
    stopTimer();
    qCounter.textContent = "Final";
    timerBadge.innerHTML = `⏳ Timp rămas: <span id="timeLeft">—</span>`;
    progressWrap.style.display = "none";

    const total = questions.length;
    const nota = grade1to10(score, total);

    app.innerHTML = `
      <h2>Rezultat final</h2>
      <div class="result ok">
        <div>Răspunsuri corecte: <b>${score}</b> / <b>${total}</b></div>
        <div style="margin-top:8px;">Notă: <b>${nota}</b> / 10</div>
      </div>
      <div class="row" style="margin-top:12px;">
        <button class="primary" id="restartBtn">Reîncepe quiz-ul</button>
      </div>
      <p class="small muted" style="margin-top:10px;">
        Notarea este proporțională: 0% = 1, 100% = 10.
      </p>
    `;

    document.getElementById("restartBtn").onclick = () => {
      idx = 0;
      score = 0;
      renderQuestion();
    };
  }

  renderQuestion();
</script>

</body>
</html>
